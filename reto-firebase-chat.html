<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>Reto Firebase Chat</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/blog/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/blog/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/blog/assets/built/syntax.css" />
    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="Pasión por la tecnologia" />
    <link rel="shortcut icon" href="/blog/assets/images/favicon.png" type="image/png" />
    <link rel="canonical" href="/blog/reto-firebase-chat" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="lucenyo" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Reto Firebase Chat" />
    <meta property="og:description" content="Resolviendo el reto de crear una app de chat con Firebase Este mes de Agosto me animado hacer uno de los retos que propone Mouredev, si queréis aprender o mejorar vuestras habilidades en programación os recomiendo que hachéis un vistazo a sú pagina web Restos de Programación. ¿ De que" />
    <meta property="og:url" content="/blog/reto-firebase-chat" />
    <meta property="og:image" content="/blog/assets/images/firebase_chat_reto_mouredev.png" />
    <meta property="article:publisher" content="https://www.facebook.com/false" />
    <meta property="article:author" content="https://www.facebook.com/false" />
    <meta property="article:published_time" content="2020-08-29T10:00:00+00:00" />
    <meta property="article:modified_time" content="2020-08-29T10:00:00+00:00" />
    <meta property="article:tag" content="Android" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Reto Firebase Chat" />
    <meta name="twitter:description" content="Resolviendo el reto de crear una app de chat con Firebase Este mes de Agosto me animado hacer uno de los retos que propone Mouredev, si queréis aprender o mejorar vuestras habilidades en programación os recomiendo que hachéis un vistazo a sú pagina web Restos de Programación. ¿ De que" />
    <meta name="twitter:url" content="/blog/" />
    <meta name="twitter:image" content="/blog/assets/images/firebase_chat_reto_mouredev.png" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="lucenyo" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Android" />
    <meta name="twitter:site" content="@jalucenyo" />
    <meta name="twitter:creator" content="@jalucenyo" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "lucenyo",
        "logo": "/blog/assets/images/lucenyo_logo_white.png"
    },
    "url": "/blog/reto-firebase-chat",
    "image": {
        "@type": "ImageObject",
        "url": "/blog/assets/images/firebase_chat_reto_mouredev.png",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "/blog/reto-firebase-chat"
    },
    "description": "Resolviendo el reto de crear una app de chat con Firebase Este mes de Agosto me animado hacer uno de los retos que propone Mouredev, si queréis aprender o mejorar vuestras habilidades en programación os recomiendo que hachéis un vistazo a sú pagina web Restos de Programación. ¿ De que"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="Reto Firebase Chat" href="/blog/feed.xml" />


</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="/blog/"><img src="/blog/assets/images/lucenyo_logo_white.png" alt="lucenyo" /></a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/blog/">Home</a></li>
    <li class="nav-about" role="menuitem"><a href="/blog/about/">Sobre Mi!</a></li>
    <!-- <li class="nav-getting-started" role="menuitem"><a href="/blog/tag/getting-started/">Getting Started</a></li> -->
    <!-- <li class="nav-try-ghost" role="menuitem"><a href="https://ghost.org">Try Ghost</a></li> -->
</ul>

        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
            
                <a class="social-link social-link-tw" href="https://twitter.com/jalucenyo" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>
</a>
            
        </div>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full  tag-android tag-retos tag-jetpack-compose post ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="29 August 2020">29 August 2020</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/blog/tag/android/'>ANDROID</a>,
                            
                        
                            
                               <a href='/blog/tag/retos/'>RETOS</a>,
                            
                        
                            
                               <a href='/blog/tag/jetpack-compose/'>JETPACK COMPOSE</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">Reto Firebase Chat</h1>
            </header>

            
            <figure class="post-full-image" style="background-image: url(/blog/assets/images/firebase_chat_reto_mouredev.png)">
            </figure>
            

            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <p>Resolviendo el reto de crear una app de chat con Firebase</p>

<p>Este mes de Agosto me animado hacer uno de los retos que propone Mouredev, si queréis aprender o mejorar vuestras habilidades en programación os recomiendo que hachéis un vistazo a sú pagina web <a href="https://retosdeprogramacion.com">Restos de Programación</a>.</p>

<h3 id="-de-que-va-el-reto-">¿ De que va el reto ?</h3>

<p>El resto consigue en hacer una aplicación que permita tener una única sala de chat donde varios usuarios puedan enviar y recibir mensajes, para llevarlo acabo se requiere utilizar Firebase como backend de la aplicación. 
Ademas los usuarios deben de poder autenticarse con la cuenta de Gmail.</p>

<p>Como apartados extras la aplicación los usuarios deben poder enviar y recibir imágenes y recibir notificaciones.</p>

<p>Desde mi punto de vista creo que es un reto muy interesante, nos permite explorar los principales servicios de Firebase, asi como la comunicación en tiempo real. El reto no impone ninguna tecnología para resolver el reto, asi que he decidido resolverlo en Android con Kotlin y Jetpack Compose, simplemente porque son las tecnología que me prepuesto aprender durante este año 2022 y que mejor manera que practicando.</p>

<h3 id="-que-es-firebase-">¿ Que es Firebase ?</h3>

<p>Firebase es una plataforma de Google con multitud de servicios para facilitar la creación de aplicaciones tanto móviles como web. Podemos encontrar servicios para:</p>

<ul>
  <li>Autenticación y registro de usuarios.</li>
  <li>Base de datos en tiempo real</li>
  <li>Notificaciones</li>
  <li>Hosting</li>
  <li>Almacenaje de ficheros</li>
  <li>Servicios de AI (Inteligencia Artificial)</li>
  <li>Analítica</li>
  <li>Y muchos mas que podemos encontrar en la pagina web de <a href="https://firebase.google.com">Firebase</a></li>
</ul>

<p>De todos los servicios que ofrece para el reto he utilizado los siguientes:</p>

<p><a href="https://firebase.google.com/products/firestore"><strong>Firestore Database</strong></a>
Base de datos NoSQL que almacena y sincroniza los datos en tiempo real, la utilizare para almacenar los mensajes que los usuarios escriben en la sala de chat.</p>

<p><a href="https://firebase.google.com/products/auth"><strong>Authentication</strong></a>
Sistema de autenticación con integración con Google, FaceBook, Twitter, etc.. Este servicio lo utilizara para la autenticación y registro de los usuarios.</p>

<p><a href="https://firebase.google.com/products/storage"><strong>Storage</strong></a>
Permite almacenar ficheros de todo tipo como imagenes, documentos, etc… Nos viene ideal para almacenar las fotos que envían los usuarios al chat.</p>

<p><a href="https://firebase.google.com/products/cloud-messaging"><strong>Messaging</strong></a>
Este servicio permite enviar notificaciones a los dispositivos aunque la aplicación no este abierta.</p>

<p><a href="https://firebase.google.com/products/functions"><strong>Functions</strong></a>
Permite ejecutar código de backend sin administrar servidores, en este caso lo utilizo para enviar notificaciones cuando se guardan registros en la base de datos</p>

<h3 id="primeros-pasos-para-crear-la-aplicación">Primeros pasos para crear la aplicación</h3>

<p>Voy a explicar los pasos que considere mas relevantes que he llevado en el desarrollo de la aplicación, todo el código lo podéis encontrar en en repositorio de <a href="https://github.com/jalucenyo/FirebaseChat">GitHub</a>.</p>

<p>El primer paso que realice fue tener una estructura donde organizar cada funcionalidad(features), podemos encontrar las siguientes carpetas:</p>

<ul>
  <li><strong>feature_auth</strong>: Todo lo relativo a autenticación de los usuarios</li>
  <li><strong>feature_chat</strong>: Toda la funcionalidad relativa a el chat entre usuarios</li>
  <li><strong>feature_notifications</strong>: Funcionalidad de notificaciones</li>
  <li><strong>shared</strong>: Componentes compartidos</li>
  <li><strong>ui-theme</strong>: El tema de la aplicación</li>
  <li><strong>firebase_splash</strong>: Una simple pantalla de inicio</li>
</ul>

<p>Creo que con esta organización es fácil que cualquier otro desarrollador/a puede situarse rápidamente en cualquier parte de la aplicación.</p>

<h3 id="arquitectura-de-la-aplicación">Arquitectura de la aplicación</h3>

<p>El siguiente paso mas importante es decidir la arquitectura que va a seguir la aplicación, en este caso la <a href="https://developer.android.com/jetpack/guide?hl=es-419#recommended-app-arch">guía de arquitectura de apps</a>, nos recomienda unos patrones de diseño muy probados y maduros, que podemos utilizar.</p>

<p>En mi caso he decido seguir la siguiente arquitectura, con una capa para los datos (Data Layer), un ViewModel por cada pantalla con la lógica de negocio y una ultima capa con la UI, construida con “composables”.
De modo que entre el ViewModel y la UI, tenemos un sentido unidireccional de información, es decir el para enviar datos a la pantalla se realiza mediante cambios en el estado y la UI envía eventos que que atenderá el ViewModel, realizando las operaciones y cambios de estado necesarios.</p>

<p><img src="/blog/assets/images/mad-arch-ui-udf.png" alt="" /></p>

<p>Otro componente de la arquitectura que decido utilizar es la inyección de dependencias con Hilt, este sera el encargado de construir y
facilitar las dependencias necesarias a cada componente de la aplicación.</p>

<h3 id="configurar-hiltdagger-y-la-navegación">Configurar Hilt/Dagger y la Navegación</h3>

<p>No voy entrar en demasiado detalle sobre Hilt, podemos encontrar la siguiente <a href="https://developer.android.com/training/dependency-injection/hilt-android?hl=es-419">guía de desarrollo de Hilt</a>, nos indica los pasos a seguir para incorporar la inyección de dependencias en
nuestros proyectos.</p>

<p>En resumen deberemos de:</p>

<ul>
  <li>Añadir las dependencias tanto en build.gradle del raíz del proyecto como en el de la aplicación</li>
  <li>Habilitar o revisar que Java8 esta habilitado en el proyecto</li>
  <li>Crear una clase de que extienda de Application y anotarla con @HiltAndroidApp</li>
  <li>Modificar el Manifest.xml e indicar “android:name” apunte a la clase de aplicación que hemos creado.</li>
  <li>Anotar la clase de la Activity principal con @AndroidEntryPoint</li>
</ul>

<p>Con estos pasos iniciales ya tenemos una configuración de Hilt que nos permita trabajar, en cada una de las carpetas feature_*, he
creado un capeta “module” que contiene la clase de Hilt encargada de construir las dependencias.</p>

<h3 id="la-navegación">La Navegación</h3>

<p>Utilizo el componente de <a href="https://developer.android.com/jetpack/compose/navigation?hl=es-419">Jetpack Compose navigation</a>, que permite
navegar entre los elementos que admiten composición y aprovechar la infraestructura y las funciones del componente Navigation.</p>

<p>Añadimos las dependencias, para poder utilizarlo en la aplicación.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    implementation "androidx.navigation:navigation-compose:2.5.1"
    implementation "androidx.navigation:navigation-ui-ktx:2.5.1"
</code></pre></div></div>

<p>En la clase FirebaseChatNavigation implementamos un NavHost que contiene los composables de las cuatro rutas que tiene la aplicación:</p>

<ul>
  <li>SPLASH_SCREEN : Pantalla de inicio de la aplicación en este caso es simplemente decorativa, se puede utilizada para preparar datos de
la aplicación antes de presentar la UI del usuario.</li>
  <li>SIGN_IN_SCREEN: Pantalla donde los usuarios pueden autenticarse.</li>
  <li>SING_UP_SCREEN: Aunque el reto no lo pide, he decidido implementar el registro de usuarios, mediante email.</li>
  <li>CHAT_ROOM_SCREEN: Pantalla donde se muestran los mensajes de los usuarios</li>
</ul>

<p>A destacar de la implementación he decido inyectar el ViewModel al composable de cada pantalla en la clase de navegación, de este modo el composable de la pantalla no tiene dependencias internas y podemos utilizar las preview sin tener que crear una instancia del ViewModel con todos los problemas que esto conlleva.</p>

<p>No estoy del todo convencido de esta implementación, pero a la hora de diseñar las pantallas ayuda mucho en el flujo de trabajo tener las preview de una forma sencilla, ademas de este modo incluso permite hacer preview con diferentes estados y ver como quedaría el diseño.</p>

<h3 id="feature-autenticación">Feature Autenticación</h3>

<p>Para poder utilizar el servicio de autenticación de firebase lo primero que he tenido que hacer es habilitar este servicio en Firebase, para eso iremos a la <a href="https://console.firebase.google.com">consola de Firebase</a></p>

<p>Crearemos un proyecto si no tenemos un ya creado, iremos al menu “Compilación” a la sección “Authentication”, donde podemos habilar el servicio de autenticación de Firebase, nos muestra una pantalla con las opciones de los diferentes proveedores que podemos utilizar, en este caso he utilizado el de “Correo electrónico/contraseña” y el de Google.</p>

<p><img src="/blog/assets/images/firebase_auth_03_screenshot.png.png" alt="" /></p>

<p>Firebase nos facilita un SDK que facilita gran parte del trabajo, para poder utilizarlo añadimos las siguientes dependecias al fichero gradle de la aplicación</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    implementation platform('com.google.firebase:firebase-bom:30.3.0')
    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-play-services:1.6.4'
    implementation 'com.google.firebase:firebase-auth-ktx'
    implementation 'com.google.android.gms:play-services-auth:20.2.0'
</code></pre></div></div>

<p>Veamos para que sirve cada una de las dependencias que acabamos de añadir:</p>

<ul>
  <li>firebase-bom: Permite administrar las versiones de las bibliotecas de Firebase.</li>
  <li>kotlinx-coroutines-play-services: Integra las clases de tipo Task de Google Play Service dentro de las coroutinas de kotlin</li>
  <li>firebase-auth-ktx: Dependencias para usar las librerías de autenticación de Firebase</li>
  <li>play-services-auth: Dependecias para poder utilizar los servicios de Google de registro de usuarios.</li>
</ul>

<p>En la carpeta feature_auth, encontramos la implementación de la funcionalidad principalmente tenemos las siguientes clases:</p>

<p><strong>AccountService</strong>: Interface que hace de proxy con los métodos que abstraen la funcionalidad para autenticar y registrar los usuarios, en la implementación de est interface, encontramos los llamadas y lógica concreta para autenticar con Firebase. De este modo los cambios que pueda sufrir el SDK de Firebase no afectaran a las otras capas de la aplicación.</p>

<p><strong>AuthModule</strong>: Contiene las construcción de las dependencias necesarias para el inyector de dependencias Hilt.</p>

<p><strong>SignInScreen</strong>: Contiene el diseño de la pantalla de Autenticación, con diferentes componentes JetpackCompose, en este caso he decidido que la pantalla reciba en el constructor tanto el estado como los diferentes métodos que enlazan con el ViewModel, de modo que el el componente queda sin estado, mejorando el mantenimiento y reutilización.</p>

<p><strong>SignInViewModel</strong>: Contiene toda la lógica de negocio para la autenticación y el estado de la UI.</p>

<p><strong>SignUpScreen / SignUpViewModel</strong>: Seguimos la misma arquitectura para el resto de pantallas de la aplicación separada en UI y ViewModel.</p>

<p>No entrare en mas detalle sobre estas funcionalidad, ya que con la utilización del SDK de Firebase para la autenticación, queda una implementación bastante sencilla de seguir y entender.</p>

<p>En este punto podemos mejorar esta funcionalidad añadiendo la recuperación de contraseña y la verificación de la cuenta de Firebase, al darse de alta via email.</p>

<h3 id="feature-chat">Feature Chat</h3>

<p>Para realizar el chat entre usuarios utilizo el servicio de “Firestore Database” para almacenar los mensajes de cada uno de los usuarios, uso también el servicio “Storage” para almacenar las imágenes que se envían al chat. De modo que lo primero es activar estos dos servicios en Firebase.</p>

<p>Al activar estos servicios tenemos que especificar las reglas para poder leer y escribir, para este caso de uso con verificar que el usuario este autenticado es suficiente, ya que todos los usuarios pueden leer y escribir en el chat siempre que estén autenticados.</p>

<p>Para Storage especificamos la siguiente regla:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    match /{allPaths=**} {
      allow read, write: if request.auth != null
    }
  }
}
</code></pre></div></div>

<p>Y las reglas para Firestore Database:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read, write: if request.auth != null
    }
  }
}
</code></pre></div></div>

<p>Necesitaremos añadir las siguientes dependencias para poder utilizar las librerias:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    implementation 'com.google.firebase:firebase-firestore-ktx'
    implementation 'com.google.firebase:firebase-storage-ktx'
</code></pre></div></div>

<p>Con Firebase configurado podemos empezar con la implementación para mantener una arquitectura limpia en la aplicación, para este caso he considerado utilizar el patrón “Repository”, siguiendo la <a href="https://developer.android.com/jetpack/guide?hl=es-419">guía de Android</a>, para obtener y guardar los mensajes e imágenes, aislando asi las implementación de Firebase.</p>

<p><img src="/blog/assets/images/mad-arch-overview-data.png" alt="" /></p>

<p>El las implementaciones de las interfaces <strong>MessagesRepository</strong> y <strong>StorageRepository</strong>, contienen la lógica para enviar y recibir mensajes, asi como subir las imágenes.</p>

<p>La recepcion de mensajes en tiempo real, queda en el sdk de Firestore, el cual admite que le indiquemos un listener que escucha los mensajes que</p>

<h3 id="feature-notificaciones">Feature Notificaciones</h3>

<h3 id="recopilación-de-links-utilizados">Recopilación de links utilizados.</h3>

<p>Links utilizados en el desarrollo de la app, que creo que pueden ser útiles.</p>

<ul>
  <li><a href="https://firebase.google.com">Firebase</a></li>
  <li><a href="https://github.com/jalucenyo/FirebaseChat">Repositorio GitHub de la aplicación</a></li>
  <li><a href="https://developer.android.com/jetpack/guide?hl=es-419#recommended-app-arch">Guía de arquitectura de apps Android</a></li>
  <li><a href="https://developer.android.com/training/dependency-injection/hilt-android?hl=es-419">Guía de desarrollo de Hilt</a></li>
</ul>

                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
            

            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                        <section class="author-card">
                            
                                <img class="author-profile-image" src="/blog/assets/images/jose.png" alt="jose" />
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name"><a href="/blog/author/jose">Jose Luceño</a></h4>
                                
                                    <p>Soy Desarrollador Fulltstack com mas de 10 años de experiencia, con Java/Kotlin Spring Boot y React.Js / Angular y comenzando en Android.</p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/blog/author/jose">Read More</a>
                        </div>
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/blog/spring-boot-circuit-breaker">
                <div class="post-card-image" style="background-image: url(/blog/assets/images/spring-circuit-breaker.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/blog/spring-boot-circuit-breaker">
                <header class="post-card-header">
                    
                        
                            
                               <span class="post-card-tags">Spring boot</span>
                            
                        
                            
                               <span class="post-card-tags">Circuit breaker</span>
                            
                        
                            
                               <span class="post-card-tags">Backend</span>
                            
                        
                            
                                <span class="post-card-tags">Kotlin</span>
                            
                        
                    

                    <h2 class="post-card-title">Circuit Breaker en Spring Boot</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p>Porque todo falla en todo momento, patrón Circuit Breaker.

</p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/blog/assets/images/jose.png" alt="Jose Luceño" />
                        
                        <span class="post-card-author">
                            <a href="/blog/author/jose/">Jose Luceño</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      4 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="/blog/">
            
                <img src="/blog/assets/images/favicon.png" alt="lucenyo icon" />
            
            <span>lucenyo</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">Reto Firebase Chat</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=Reto+Firebase+Chat&amp;url=reto-firebase-chat"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=reto-firebase-chat"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="/blog/">lucenyo</a> &copy; 2022</section>
                <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> &
                    <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> using
                    <a href="https://github.com/jekyllt/jasper2" target="_blank" rel="noopener">Jasper2</a></section>
                <nav class="site-footer-nav">
                    <a href="/blog/">Latest Posts</a>
                    
                    <a href="https://twitter.com/jalucenyo" target="_blank" rel="noopener">Twitter</a>
                    <!-- <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a> -->
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    

    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/blog/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/blog/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'G-MVH0MW03DF', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
